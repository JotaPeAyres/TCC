@page "/estados/adicionar"
@inherits CreateEstadoPage

<MudText Typo="Typo.h3">Novo Estado</MudText>

<MudPaper Class="pa-8 mt-4">
    <EditForm Model="@InputModel" OnInvalidSubmit="OnValidSubmitAsync">
        <DataAnnotationsValidator />

        <MudTextField Label="Nome"
            HelperText="Campo obrigatório"
            @bind-Value="InputModel.Nome"
            For="@(() => InputModel.Nome)" />
        <MudStack>
            <MudSelect Label="Sigla"
                T="string"
                MultiSelection="false"
                HelperText="Campo obrigatório"
                @bind-Value="InputModel.SiglaEstado"
                For="@(() => InputModel.SiglaEstado)">

                @foreach(var sigla in Siglas)
                {
                    <MudSelectItem Value="sigla">@sigla</MudSelectItem>
                }
            </MudSelect>
        </MudStack>

        @if (IsBusy)
        {
            <MudProgressCircular Indeterminate="true" Color="Color.Primary" />
        }
        else
        {
            <MudButton ButtonType="ButtonType.Submit" 
                Variant="Variant.Filled" 
                Color="Color.Primary">
                Salvar
            </MudButton>
        }
    </EditForm>
</MudPaper>